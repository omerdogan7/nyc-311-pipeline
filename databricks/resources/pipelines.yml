resources:
  pipelines:
    nyc_311_pipeline:
      name: nyc_311_pipeline_${bundle.target}
      catalog: ${var.catalog}
      schema: bronze      
            
      
      serverless: true
      
      configuration:
        pipeline.catalog: ${var.catalog}
        pipeline.bronze_bucket: ${var.bronze_bucket}
        pipeline.data_bucket: ${var.data_bucket}
        pipelines.autoCreateManagedSchema: "true"
        

      libraries:
        - notebook:
            path: ./src/setup/setup_catalog.py
        - file:
            path: ./src/bronze/bronze_layer.py
        - file:
            path: ./src/silver/silver_layer.py
      
      continuous: false
      development: true

     